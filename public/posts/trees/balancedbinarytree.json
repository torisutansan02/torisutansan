{
  "id": "trees/balancedbinarytree",
  "contentHtml": "<h1>Balanced Binary Tree</h1>\n<p>You are given a binary tree <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow><annotation>root</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">roo</span><span class=\"mord mathnormal\">t</span></span></span></span> and you must determine if it is height-balanced or not. An empty tree is height-balanced.</p>\n<p><img src=\"/trees/balancedBinaryTree/BalancedBinaryTree1.svg\" alt=\"Image\"></p>\n<h2>How To Solve?</h2>\n<p>Look at the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>a</mi><mi>f</mi></mrow><annotation>leaf</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">f</span></span></span></span> nodes and then look at their <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation>parent</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span></span></span></span> node.</p>\n<h3>Tree</h3>\n<p>You want to proceed to look at the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><annotation>leftmost</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">f</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">os</span><span class=\"mord mathnormal\">t</span></span></span></span> nodes.</p>\n<p>In the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi></mrow><annotation>first</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">f</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">rs</span><span class=\"mord mathnormal\">t</span></span></span></span> example, notice how the parent node of <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>4</mn></mrow><annotation>4</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">4</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>5</mn></mrow><annotation>5</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">5</span></span></span></span> is <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>2</mn></mrow><annotation>2</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">2</span></span></span></span> whose height totals to <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn></mrow><annotation>1</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">1</span></span></span></span> here.</p>\n<p>The node <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn></mrow><annotation>3</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">3</span></span></span></span> obviously has a height of <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>0</mn></mrow><annotation>0</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">0</span></span></span></span> since it has no <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>c</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>d</mi></mrow><annotation>child</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">hi</span><span class=\"mord mathnormal\">l</span><span class=\"mord mathnormal\">d</span></span></span></span> or <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>a</mi><mi>f</mi></mrow><annotation>leaf</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">f</span></span></span></span> nodes. The children of <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn></mrow><annotation>1</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">1</span></span></span></span> is <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>2</mn></mrow><annotation>2</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">2</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn></mrow><annotation>3</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">3</span></span></span></span>, where the difference in heights between the 2 nodes is <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn><mo>−</mo><mn>0</mn><mo>=</mo><mn>1</mn></mrow><annotation>1 - 0 = 1</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">1</span><span class=\"mspace\"></span><span class=\"mbin\">−</span><span class=\"mspace\"></span></span><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">0</span><span class=\"mspace\"></span><span class=\"mrel\">=</span><span class=\"mspace\"></span></span><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">1</span></span></span></span> for <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn></mrow><annotation>1</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">1</span></span></span></span>'s node.</p>\n<p>However, you must take the absolute value of the difference because <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>4</mn></mrow><annotation>4</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">4</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>5</mn></mrow><annotation>5</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">5</span></span></span></span> can be <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn></mrow><annotation>3</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">3</span></span></span></span>'s children.</p>\n<ul>\n<li>This is because a balanced tree is a binary tree where the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi><mi>e</mi><mi>p</mi><mi>t</mi><mi>h</mi></mrow><annotation>depth</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">pt</span><span class=\"mord mathnormal\">h</span></span></span></span> or <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation>height</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">g</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">t</span></span></span></span> of two <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>t</mi><mi>r</mi><mi>e</mi><mi>e</mi><mi>s</mi></mrow><annotation>subtrees</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">rees</span></span></span></span> does not differ by more than <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn></mrow><annotation>1</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">1</span></span></span></span>, as was the case.</li>\n</ul>\n<p>Try to solve the question intuitively. Start from the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><annotation>leftmost</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">f</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">os</span><span class=\"mord mathnormal\">t</span></span></span></span> leaf node. Find the heights of the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation>parent</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span></span></span></span> nodes up until the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow><annotation>root</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">roo</span><span class=\"mord mathnormal\">t</span></span></span></span> node. Then, determine if it is a balanced tree.</p>\n<ul>\n<li>If the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>b</mi><mi>s</mi><mo>(</mo><mi>L</mi><mo>−</mo><mi>R</mi><mo>)</mo><mo>></mo><mn>1</mn></mrow><annotation>abs(L - R) > 1</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">ab</span><span class=\"mord mathnormal\">s</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">L</span><span class=\"mspace\"></span><span class=\"mbin\">−</span><span class=\"mspace\"></span></span><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">R</span><span class=\"mclose\">)</span><span class=\"mspace\"></span><span class=\"mrel\">></span><span class=\"mspace\"></span></span><span class=\"base\"><span class=\"strut\"></span><span class=\"mord\">1</span></span></span></span>, it is not balanced.</li>\n</ul>\n<p>To verify your examples, use the visual I will add below to help:</p>\n<p><img src=\"/trees/balancedBinaryTree/BalancedBinaryTree2.svg\" alt=\"Image\"></p>\n<h3>Helpful Hints</h3>\n<ul>\n<li>Use <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>e</mi><mi>r</mi></mrow><annotation>postorder</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">os</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">or</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">er</span></span></span></span> <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>D</mi><mi>F</mi><mi>S</mi></mrow><annotation>DFS</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mord mathnormal\">D</span><span class=\"mord mathnormal\">FS</span></span></span></span>.\n<ul>\n<li>left-right-node traversal.</li>\n</ul>\n</li>\n<li>Use a pair:\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>[</mo><mi>B</mi><mi>o</mi><mi>o</mi><mi>l</mi><mo>,</mo><mi>H</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>]</mo></mrow><annotation>[Bool, Height]</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">B</span><span class=\"mord mathnormal\">oo</span><span class=\"mord mathnormal\">l</span><span class=\"mpunct\">,</span><span class=\"mspace\"></span><span class=\"mord mathnormal\">He</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">g</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">]</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n<h3>Tree Solution</h3>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-comment\"># Definition for a binary tree node.</span>\n<span class=\"hljs-comment\"># class TreeNode:</span>\n<span class=\"hljs-comment\">#     def __init__(self, val=0, left=None, right=None):</span>\n<span class=\"hljs-comment\">#         self.val = val</span>\n<span class=\"hljs-comment\">#         self.left = left</span>\n<span class=\"hljs-comment\">#         self.right = right</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Solution</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">isBalanced</span>(<span class=\"hljs-params\">self, root: <span class=\"hljs-type\">Optional</span>[TreeNode]</span>) -> <span class=\"hljs-built_in\">bool</span>:\n        <span class=\"hljs-comment\"># Postorder DFS</span>\n        <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">dfs</span>(<span class=\"hljs-params\">root</span>):\n            <span class=\"hljs-comment\"># Check if the node is null</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> root:\n                <span class=\"hljs-keyword\">return</span> [<span class=\"hljs-literal\">True</span>, <span class=\"hljs-number\">0</span>]\n            \n            <span class=\"hljs-comment\"># Postorder DFS</span>\n            L = dfs(root.left)\n            R = dfs(root.right)\n\n            <span class=\"hljs-comment\"># Is it balanced?</span>\n            <span class=\"hljs-comment\"># Both L and R are balanced</span>\n            <span class=\"hljs-comment\"># Height of subtrees &#x3C;= 1</span>\n            B = L[<span class=\"hljs-number\">0</span>] <span class=\"hljs-keyword\">and</span> R[<span class=\"hljs-number\">0</span>] <span class=\"hljs-keyword\">and</span> (<span class=\"hljs-built_in\">abs</span>(L[<span class=\"hljs-number\">1</span>] - R[<span class=\"hljs-number\">1</span>]) &#x3C;= <span class=\"hljs-number\">1</span>)\n            <span class=\"hljs-comment\"># What is the height of the current node?</span>\n            H = <span class=\"hljs-number\">1</span> + <span class=\"hljs-built_in\">max</span>(L[<span class=\"hljs-number\">1</span>], R[<span class=\"hljs-number\">1</span>])\n\n            <span class=\"hljs-comment\"># Return the result</span>\n            <span class=\"hljs-keyword\">return</span> [B, H]\n        \n        <span class=\"hljs-comment\"># Return the DFS function call</span>\n        <span class=\"hljs-comment\"># But only return the boolean value</span>\n        <span class=\"hljs-keyword\">return</span> dfs(root)[<span class=\"hljs-number\">0</span>]\n</code></pre>",
  "title": "Balanced Binary Tree",
  "date": "March 18, 2025",
  "category": "Trees",
  "categories": []
}